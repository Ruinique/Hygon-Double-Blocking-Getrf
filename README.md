<!--
 * @Descripttion: 
 * @Author: Ruinique
 * @version: 
 * @Date: 2025-03-30 17:21:56
 * @LastEditors: Ruinique
 * @LastEditTime: 2025-03-30 17:37:46
-->
# Hygon-Getrf
在海光 Z100 DCU 上特化实现的 LU 分解 (getrf)

## 功能概述

本项目提供了以下主要功能：
1. **LU 分解**：通过 GPU 加速实现高效的矩阵分解。
2. **命令行参数解析**：使用 `parseArgs` 函数解析用户输入的参数，支持灵活的配置。

## 使用方法

### 编译项目

确保已安装 CMake 和 CUDA 工具链，然后运行以下命令编译项目：

```bash
mkdir build && cd build
cmake -B . -S ..
make
```

### 运行程序

编译完成后，生成的可执行文件位于 `build/` 目录下。运行程序时可以通过命令行参数指定配置，例如：

```bash
// n 是矩阵单边规模
./getrf $n
```

### 更多命令行参数说明

```bash
./getrf $n $k $nb -p -c -v
```
分别是方阵的边长，累计块大小和分块大小。
如果有 `-p` 代表启用 pivoting
如果有 `-c` 代表启用 compare with cusolver
如果有 `-v` 代表校验后向误差

### 测试数据如下

这些数据都是采用 启用 pivoting 启用 compare with cusolver 不启用校验后向误差

#### 单精度测试结果

| n    | Double Blocking Time (ms) | Double Blocking TFLOPS | cuSolver Time (ms) |
|------|---------------------------|------------------------|--------------------|
| 4096 | 100.066002                | 0.457828               | 108.240715         |
| 8192 | 319.039642                | 1.148772               | 396.782318         |
| 12288| 578.565002                | 2.137963               | 674.014404         |
| 16384| 1316.012817               | 2.227965               | 1873.824829        |
| 20480| 1676.726562               | 3.415359               | 1905.983887        |
| 24576| 2898.069092               | 3.414551               | 3331.474854        |
| 28672| 3532.558838               | 4.448292               | 3983.772705        |
| 32768| 12756.315430              | 1.838795               | 11526.133789       |

#### 双精度测试结果

| n    | Double Blocking Time (ms) | Double Blocking TFLOPS | cuSolver Time (ms) |
|------|---------------------------|------------------------|--------------------|
| 4096 | 119.464111                | 0.383487               | 144.823715         |
| 8192 | 425.154999                | 0.862048               | 617.608948         |
| 12288| 781.544128                | 1.582701               | 951.324219         |
| 16384| 2031.424927               | 1.443337               | 3360.867188        |
| 20480| 2376.131104               | 2.410062               | 2766.572266        |
